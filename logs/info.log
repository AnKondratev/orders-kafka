2024-11-13 16:49:06 INFO  a.k.orders.OnlineStoreApplication - Starting OnlineStoreApplication using Java 17.0.11 with PID 8300 (D:\javaProjects\KafkaProject\Orders\target\classes started by Andrey in D:\javaProjects\KafkaProject\Orders)
2024-11-13 16:49:06 INFO  a.k.orders.OnlineStoreApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-13 16:49:09 INFO  a.k.orders.OnlineStoreApplication - Started OnlineStoreApplication in 3.994 seconds (process running for 4.522)
2024-11-13 16:49:23 INFO  a.k.o.controller.StoreController - Creating product ProductDTO(productIdDTO=null, nameDTO=Продукт F, descriptionDTO=Описание продукта F, priceDTO=1222.75, quantityInStockDTO=11)
2024-11-13 16:49:23 INFO  a.k.orders.service.ProductService - Create product: ProductDTO(productIdDTO=null, nameDTO=Продукт F, descriptionDTO=Описание продукта F, priceDTO=1222.75, quantityInStockDTO=11)
2024-11-13 16:49:25 INFO  a.k.o.controller.StoreController - Creating order OrderDTO(orderIdDTO=null, shippingAddressDTO=123 Main St, Anytown, USA, totalPriceDTO=null, orderStatusDTO=Processing, productsDTO=[ProductDTO(productIdDTO=1, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null), ProductDTO(productIdDTO=2, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null), ProductDTO(productIdDTO=3, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null), ProductDTO(productIdDTO=4, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null)], customerDTO=CustomerDTO(customerIdDTO=null, firstNameDTO=John, lastNameDTO=Doe, emailDTO=john.doe@example.com, phoneDTO=+1234567890), paymentStatusDTO=false, customerId=null)
2024-11-13 16:49:26 INFO  a.k.orders.service.OrderService - Order created: Order(customer=Customer(customerId=1, firstName=John, lastName=Doe, email=john.doe@example.com, phone=+1234567890), orderId=null, orderDate=null, shippingAddress=123 Main St, Anytown, USA, totalPrice=1222.75, orderStatus=Processing, paymentStatus=false, products=[Product(order=null, productId=1, name=Продукт F, description=Описание продукта F, price=1222.75, quantityInStock=11)])
2024-11-13 16:49:27 INFO  a.k.o.controller.MessagesController - Order #1 sent successfully
2024-11-13 16:49:36 INFO  a.k.orders.kafka.KafkaConsumer - Order 1 updated successfully
2024-11-13 16:49:36 INFO  a.k.orders.kafka.KafkaConsumer - Order completed!
2024-11-13 16:49:36 INFO  a.k.orders.kafka.KafkaConsumer - Order 1 updated successfully
2024-11-13 16:49:36 INFO  a.k.orders.kafka.KafkaConsumer - Order completed!
2024-11-13 16:49:36 INFO  a.k.orders.kafka.KafkaConsumer - Order 1 updated successfully
2024-11-13 16:49:36 INFO  a.k.orders.kafka.KafkaConsumer - Order completed!
2024-11-13 16:49:36 INFO  a.k.orders.kafka.KafkaConsumer - Order 1 updated successfully
2024-11-13 16:49:36 INFO  a.k.orders.kafka.KafkaConsumer - Order completed!
2024-11-13 16:49:36 INFO  a.k.orders.kafka.KafkaConsumer - Order 1 updated successfully
2024-11-13 16:49:36 INFO  a.k.orders.kafka.KafkaConsumer - Order completed!
2024-11-13 16:50:25 INFO  a.k.o.controller.StoreController - Creating product ProductDTO(productIdDTO=null, nameDTO=Продукт F, descriptionDTO=Описание продукта F, priceDTO=1222.75, quantityInStockDTO=null)
2024-11-13 16:50:25 INFO  a.k.orders.service.ProductService - Create product: ProductDTO(productIdDTO=null, nameDTO=Продукт F, descriptionDTO=Описание продукта F, priceDTO=1222.75, quantityInStockDTO=null)
2024-11-13 16:50:25 ERROR a.k.o.e.GlobalExceptionHandler - could not execute statement [ERROR: null value in column "quantity_in_stock" of relation "products" violates not-null constraint
  Подробности: Failing row contains (1222.75, null, 2, null, Продукт F, Описание продукта F).] [insert into products (description,name,order_order_id,price,quantity_in_stock) values (?,?,?,?,?) returning product_id]; SQL [insert into products (description,name,order_order_id,price,quantity_in_stock) values (?,?,?,?,?) returning product_id]; constraint [quantity_in_stock" of relation "products]
2024-11-13 16:50:30 INFO  a.k.o.controller.StoreController - Creating order OrderDTO(orderIdDTO=null, shippingAddressDTO=123 Main St, Anytown, USA, totalPriceDTO=null, orderStatusDTO=Processing, productsDTO=[ProductDTO(productIdDTO=null, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null), ProductDTO(productIdDTO=2, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null), ProductDTO(productIdDTO=3, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null), ProductDTO(productIdDTO=4, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null)], customerDTO=CustomerDTO(customerIdDTO=null, firstNameDTO=John, lastNameDTO=Doe, emailDTO=john.doe@example.com, phoneDTO=+1234567890), paymentStatusDTO=false, customerId=null)
2024-11-13 16:50:30 ERROR a.k.o.e.GlobalExceptionHandler - The given id must not be null
2024-11-13 16:50:33 INFO  a.k.o.controller.StoreController - Creating order OrderDTO(orderIdDTO=null, shippingAddressDTO=null, totalPriceDTO=null, orderStatusDTO=Processing, productsDTO=[ProductDTO(productIdDTO=1, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null), ProductDTO(productIdDTO=2, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null), ProductDTO(productIdDTO=3, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null), ProductDTO(productIdDTO=4, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null)], customerDTO=CustomerDTO(customerIdDTO=null, firstNameDTO=John, lastNameDTO=Doe, emailDTO=john.doe@example.com, phoneDTO=+1234567890), paymentStatusDTO=false, customerId=null)
2024-11-13 16:50:33 INFO  a.k.orders.service.OrderService - Order created: Order(customer=Customer(customerId=3, firstName=John, lastName=Doe, email=john.doe@example.com, phone=+1234567890), orderId=null, orderDate=null, shippingAddress=null, totalPrice=1222.75, orderStatus=Processing, paymentStatus=false, products=[Product(order=null, productId=1, name=Продукт F, description=Описание продукта F, price=1222.75, quantityInStock=11)])
2024-11-13 16:50:33 ERROR a.k.o.e.GlobalExceptionHandler - could not execute statement [ERROR: null value in column "shipping_address" of relation "orders" violates not-null constraint
  Подробности: Failing row contains (f, 1222.75, 3, 2024-11-13 16:50:33.887252, 2, Processing, null).] [insert into orders (customer_id,order_date,order_status,payment_status,shipping_address,total_price) values (?,?,?,?,?,?) returning order_id]; SQL [insert into orders (customer_id,order_date,order_status,payment_status,shipping_address,total_price) values (?,?,?,?,?,?) returning order_id]; constraint [shipping_address" of relation "orders]
2024-11-13 16:50:37 INFO  a.k.o.controller.MessagesController - Order #1 sent successfully
2024-11-13 16:50:40 ERROR a.k.orders.service.OrderService - Order #1123 not found
2024-11-13 16:50:40 ERROR a.k.o.controller.MessagesController - Order #1123not found
2024-11-13 16:50:40 ERROR a.k.o.e.GlobalExceptionHandler - Order #1123 not found
2024-11-13 18:42:40 INFO  a.k.orders.OnlineStoreApplication - Starting OnlineStoreApplication using Java 17.0.11 with PID 4560 (D:\javaProjects\KafkaProject\Orders\target\classes started by Andrey in D:\javaProjects\KafkaProject\Orders)
2024-11-13 18:42:40 INFO  a.k.orders.OnlineStoreApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-13 18:42:44 INFO  a.k.orders.OnlineStoreApplication - Started OnlineStoreApplication in 4.457 seconds (process running for 5.162)
2024-11-13 18:43:11 INFO  a.k.o.controller.StoreController - Creating product ProductDTO(productIdDTO=null, nameDTO=Продукт F, descriptionDTO=Описание продукта F, priceDTO=1222.75, quantityInStockDTO=11)
2024-11-13 18:43:11 INFO  a.k.orders.service.ProductService - Create product: ProductDTO(productIdDTO=null, nameDTO=Продукт F, descriptionDTO=Описание продукта F, priceDTO=1222.75, quantityInStockDTO=11)
2024-11-13 18:43:12 INFO  a.k.o.controller.StoreController - Creating product ProductDTO(productIdDTO=null, nameDTO=Продукт F, descriptionDTO=Описание продукта F, priceDTO=1222.75, quantityInStockDTO=11)
2024-11-13 18:43:12 INFO  a.k.orders.service.ProductService - Create product: ProductDTO(productIdDTO=null, nameDTO=Продукт F, descriptionDTO=Описание продукта F, priceDTO=1222.75, quantityInStockDTO=11)
2024-11-13 18:43:13 INFO  a.k.o.controller.StoreController - Creating product ProductDTO(productIdDTO=null, nameDTO=Продукт F, descriptionDTO=Описание продукта F, priceDTO=1222.75, quantityInStockDTO=11)
2024-11-13 18:43:13 INFO  a.k.orders.service.ProductService - Create product: ProductDTO(productIdDTO=null, nameDTO=Продукт F, descriptionDTO=Описание продукта F, priceDTO=1222.75, quantityInStockDTO=11)
2024-11-13 18:43:14 INFO  a.k.o.controller.StoreController - Creating product ProductDTO(productIdDTO=null, nameDTO=Продукт F, descriptionDTO=Описание продукта F, priceDTO=1222.75, quantityInStockDTO=11)
2024-11-13 18:43:14 INFO  a.k.orders.service.ProductService - Create product: ProductDTO(productIdDTO=null, nameDTO=Продукт F, descriptionDTO=Описание продукта F, priceDTO=1222.75, quantityInStockDTO=11)
2024-11-13 18:43:17 INFO  a.k.o.controller.StoreController - Creating order OrderDTO(orderIdDTO=null, shippingAddressDTO=123 Main St, Anytown, USA, totalPriceDTO=null, orderStatusDTO=Processing, productsDTO=[ProductDTO(productIdDTO=1, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null), ProductDTO(productIdDTO=2, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null), ProductDTO(productIdDTO=3, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null), ProductDTO(productIdDTO=4, nameDTO=null, descriptionDTO=null, priceDTO=null, quantityInStockDTO=null)], customerDTO=CustomerDTO(customerIdDTO=null, firstNameDTO=John, lastNameDTO=Doe, emailDTO=john.doe@example.com, phoneDTO=+1234567890), paymentStatusDTO=false, customerId=null)
2024-11-13 18:43:17 INFO  a.k.orders.service.OrderService - Order created: Order(customer=Customer(customerId=1, firstName=John, lastName=Doe, email=john.doe@example.com, phone=+1234567890), orderId=null, orderDate=null, shippingAddress=123 Main St, Anytown, USA, totalPrice=4891.00, orderStatus=Processing, paymentStatus=false, products=[Product(order=null, productId=1, name=Продукт F, description=Описание продукта F, price=1222.75, quantityInStock=11), Product(order=null, productId=2, name=Продукт F, description=Описание продукта F, price=1222.75, quantityInStock=11), Product(order=null, productId=3, name=Продукт F, description=Описание продукта F, price=1222.75, quantityInStock=11), Product(order=null, productId=4, name=Продукт F, description=Описание продукта F, price=1222.75, quantityInStock=11)])
2024-11-13 18:43:20 INFO  a.k.o.controller.MessagesController - Order #1 sent successfully
2024-11-13 18:43:34 INFO  a.k.orders.kafka.KafkaConsumer - Order 1 updated successfully
2024-11-13 18:43:34 INFO  a.k.orders.kafka.KafkaConsumer - Order completed!
2024-11-13 18:43:34 INFO  a.k.orders.kafka.KafkaConsumer - Order 1 updated successfully
2024-11-13 18:43:34 INFO  a.k.orders.kafka.KafkaConsumer - Order completed!
2024-11-13 18:43:34 INFO  a.k.orders.kafka.KafkaConsumer - Order 1 updated successfully
2024-11-13 18:43:34 INFO  a.k.orders.kafka.KafkaConsumer - Order completed!
2024-11-13 18:43:34 INFO  a.k.orders.kafka.KafkaConsumer - Order 1 updated successfully
2024-11-13 18:43:34 INFO  a.k.orders.kafka.KafkaConsumer - Order completed!
2024-11-13 18:43:34 INFO  a.k.orders.kafka.KafkaConsumer - Order 1 updated successfully
2024-11-13 18:43:34 INFO  a.k.orders.kafka.KafkaConsumer - Order completed!
